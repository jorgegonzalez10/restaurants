<div class="container p-3 mt-5">
  <div class="container my-4">
  <!-- Fila para buscador + botón -->
  <div class="row align-items-center">
    <!-- Buscador -->
    <div class="col-12 col-md-8 mb-2 mb-md-0">
      <%= form_with url: users_products_path, method: :get, class: "d-flex" do %>
        <%= text_field_tag :query,
            params[:query],
            class: "form-control form-control-lg me-2",
            placeholder: "Search" %>
        <%= submit_tag "Search", class: "btn btn-outline-dark btn-lg" %>
      <% end %>
    </div>

    <!-- Botón de agregar -->
    <div class="col-12 col-md-4 text-md-end text-center mt-2 mt-md-0">
      <%= link_to "Add new product",
          new_users_product_path,
          data: { turbo_frame: :new_product },
          class: "btn btn-dark btn-lg px-4 fw-bold w-100 w-md-auto" %>
    </div>
  </div>

  <!-- Botones List / Cards -->
  <div class="row mt-4">
    <div class="col text-center">
      <div class="btn-group" role="group">
        <%= link_to "List", users_products_path, class: "btn btn-lg active buttongroup", id: "active" %>
        <%= link_to "Cards", users_products_cards_path, class: "btn btn-lg buttongroup" %>
      </div>
    </div>
  </div>
</div>
  <div class="row">
    <% @products.each do |product| %>
      <% if controller_path == 'users/products' && product.user == current_user %>
      <%= render "products/product", product: product %>
      <%end%>
    <%end%>
  </div>
</div>
