<div class="container shadow rounded-4 d-grid my-5 px-5 p-5 my-5 bg-dark text-white">
  <h1><strong class="f2-5">Your Cart <i class="fa-solid fa-cart-plus fa-md" style="color:rgb(238, 226, 226);"></i>(<%= @cart.line_items.sum(:quantity) %>)</strong></h1>
  <div class="container-fluid mt-5 px-5 p-4 bg-light text-black shadow border-success rounded-top-4">
    <div class="modal-body">
      <% if @cart.line_items.any? %>
        <ul class="list-group">
          <% @cart.line_items.each do |line_item| %>
            <li class="list-group-item rounded-4">
              <% if line_item.product.photo.attached? %>
                <%= image_tag url_for(line_item.product.photo), class: "card-img-top rounded-top", style: "width: 130px; height: 130px;", alt: line_item.product.name %>
              <% else %>
                <%= image_tag 'no-image.jpg', class:"img-fluid rounded me-5", style:"width: 130px; height: 130px;"%>
              <% end %>
              <strong class="fw-5 fs-5"><%= line_item.product.name %> - <%= line_item.quantity > 1 ? number_to_currency(line_item.total_price) : number_to_currency(line_item.product.price) %> (x<%= line_item.quantity %>)</strong>
              <%= button_to 'Remove', line_item_path(line_item), method: :delete, class: 'btn btn-danger btn-sm float-end rounded-3' %>
            </li>
          <% end %>
        </ul>
        <hr>
        <div class="container d-flex justify-content-between">
          <strong><p class="text-end fw-3 fs-3">Total: <%= number_to_currency(@cart.total_price) %></p></strong>
        </div>
      <% else %>
        <p>Your cart is empty.</p>
      <% end %>
    </div>
  </div>

  <div class="fw-3 fs-3 btn btn-success btn-lg btn-block rounded-bottom-4 p-2">
    <%#= link_to 'Checkout', payment_cart_path(@cart), class: "text-decoration-none text-white" %>
  </div>
</div>
